<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Create Your Skill Swap Account</title>
        <link
            href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
            rel="stylesheet"
        />
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
        />
        <link rel="stylesheet" href="../css/userRegistration.css" />
    </head>
    <body>
        <div class="container">
            <h1>
                <i class="fas fa-exchange-alt"></i> Create Your Skill Swap
                Account
            </h1>
            <p class="form-header">
                Join our community of learners and teachers
            </p>

            <form id="registrationForm">
                <div class="form-group">
                    <label for="fullName"
                        ><i class="fas fa-user"></i> Full Name</label
                    >
                    <input
                        type="text"
                        id="fullName"
                        name="fullName"
                        placeholder="Enter your full name"
                        required
                    />
                    <div class="error-message" id="fullNameError">
                        Please enter your full name
                    </div>
                </div>

                <div class="form-group">
                    <label for="username"
                        ><i class="fas fa-at"></i> Username</label
                    >
                    <input
                        type="text"
                        id="username"
                        name="username"
                        placeholder="Choose a username"
                        required
                    />
                    <div class="error-message" id="usernameError">
                        Username is required
                    </div>
                </div>

                <div class="form-group">
                    <label for="email"
                        ><i class="fas fa-envelope"></i> Email</label
                    >
                    <input
                        type="email"
                        id="email"
                        name="email"
                        placeholder="Enter your email address"
                        required
                    />
                    <div class="error-message" id="emailError">
                        Please enter a valid email address
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="password"
                            ><i class="fas fa-lock"></i> Password</label
                        >
                        <input
                            type="password"
                            id="password"
                            name="password"
                            placeholder="Create a password"
                            required
                        />
                        <div class="password-strength">
                            <div
                                class="password-strength-bar"
                                id="passwordStrength"
                            ></div>
                        </div>
                        <div class="password-requirements">
                            <ul>
                                <li id="lengthReq" class="invalid">
                                    <i class="fas fa-circle"></i> At least 8
                                    characters
                                </li>
                                <li id="upperReq" class="invalid">
                                    <i class="fas fa-circle"></i> One uppercase
                                    letter
                                </li>
                                <li id="lowerReq" class="invalid">
                                    <i class="fas fa-circle"></i> One lowercase
                                    letter
                                </li>
                                <li id="numberReq" class="invalid">
                                    <i class="fas fa-circle"></i> One number
                                </li>
                            </ul>
                        </div>
                        <div class="error-message" id="passwordError">
                            Password must be at least 8 characters
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="confirmPassword"
                            ><i class="fas fa-lock"></i> Confirm Password</label
                        >
                        <input
                            type="password"
                            id="confirmPassword"
                            name="confirmPassword"
                            placeholder="Confirm your password"
                            required
                        />
                        <div class="error-message" id="confirmPasswordError">
                            Passwords do not match
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label for="profilePhoto"
                        ><i class="fas fa-camera"></i> Profile Photo</label
                    >
                    <div class="file-input-wrapper">
                        <div class="file-input-button">
                            <i class="fas fa-cloud-upload-alt"></i>
                            <span>Upload Profile Photo</span>
                        </div>
                        <input
                            type="file"
                            id="profilePhoto"
                            name="profilePhoto"
                            accept="image/*"
                        />
                    </div>
                </div>

                <div class="form-group">
                    <label for="skills"
                        ><i class="fas fa-lightbulb"></i> Your Skills</label
                    >
                    <div class="skill-input">
                        <input
                            type="text"
                            id="skillInput"
                            placeholder="Add a skill you can teach"
                        />
                        <button
                            type="button"
                            class="add-skill-btn"
                            id="addSkillBtn"
                        >
                            <i class="fas fa-plus"></i>
                        </button>
                    </div>
                    <div class="skill-tags" id="skillTags">
                        <!-- Skills will be added here dynamically -->
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="city"
                            ><i class="fas fa-city"></i> City</label
                        >
                        <input
                            type="text"
                            id="city"
                            name="city"
                            placeholder="Your city"
                        />
                    </div>

                    <div class="form-group">
                        <label for="country"
                            ><i class="fas fa-globe"></i> Country</label
                        >
                        <select id="country" name="country">
                            <option value="">Select your country</option>
                            <option value="US">United States</option>
                            <option value="CA">Canada</option>
                            <option value="UK">United Kingdom</option>
                            <option value="AU">Australia</option>
                            <option value="DE">Germany</option>
                            <option value="FR">France</option>
                            <option value="JP">Japan</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label for="bio"
                        ><i class="fas fa-user-edit"></i> Short Bio</label
                    >
                    <textarea
                        id="bio"
                        name="bio"
                        rows="3"
                        placeholder="Tell us about yourself and what skills you'd like to learn or share"
                    ></textarea>
                </div>

                <div class="checkbox-group">
                    <input type="checkbox" id="terms" name="terms" required />
                    <label for="terms"
                        >I agree to the
                        <a href="#" class="terms-link">Terms & Conditions</a>
                        and Privacy Policy. I understand that Skill Swap is a
                        community platform for sharing knowledge.</label
                    >
                </div>
                <div class="error-message" id="termsError">
                    You must agree to the terms and conditions
                </div>

                <button type="submit" class="submit-btn">
                    <i class="fas fa-user-plus"></i> Create My Skill Swap
                    Account
                </button>
            </form>
        </div>
        <script
            src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"
            integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g=="
            crossorigin="anonymous"
            referrerpolicy="no-referrer"
        ></script>
        <script>
            document
                .getElementById('registrationForm')
                .addEventListener('submit', function (e) {
                    e.preventDefault();

                    // Reset error messages
                    const errorMessages =
                        document.querySelectorAll('.error-message');
                    errorMessages.forEach(
                        (msg) => (msg.style.display = 'none')
                    );

                    let isValid = true;

                    // Validate full name
                    const fullName = document.getElementById('fullName').value;
                    if (!fullName.trim()) {
                        document.getElementById('fullNameError').style.display =
                            'block';
                        isValid = false;
                    }

                    // Validate username
                    const username = document.getElementById('username').value;
                    if (!username.trim()) {
                        document.getElementById('usernameError').style.display =
                            'block';
                        isValid = false;
                    }

                    // Validate email
                    const email = document.getElementById('email').value;
                    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                    if (!emailRegex.test(email)) {
                        document.getElementById('emailError').style.display =
                            'block';
                        isValid = false;
                    }

                    // Validate password
                    const password = document.getElementById('password').value;
                    if (password.length < 8) {
                        document.getElementById('passwordError').style.display =
                            'block';
                        isValid = false;
                    }

                    // Validate confirm password
                    const confirmPassword =
                        document.getElementById('confirmPassword').value;
                    if (password !== confirmPassword) {
                        document.getElementById(
                            'confirmPasswordError'
                        ).style.display = 'block';
                        isValid = false;
                    }

                    // Validate terms
                    const terms = document.getElementById('terms').checked;
                    if (!terms) {
                        document.getElementById('termsError').style.display =
                            'block';
                        isValid = false;
                    }

                    if (isValid) {
                        // In a real application, you would submit the form to a server here
                        alert(
                            'Account created successfully! Welcome to Skill Swap!'
                        );
                        // Reset form
                        this.reset();
                        resetPasswordStrength();
                        document.getElementById('skillTags').innerHTML = '';
                    }
                });

            // Password strength indicator
            document
                .getElementById('password')
                .addEventListener('input', function () {
                    checkPasswordStrength(this.value);
                });

            function checkPasswordStrength(password) {
                const strengthBar = document.getElementById('passwordStrength');
                const lengthReq = document.getElementById('lengthReq');
                const upperReq = document.getElementById('upperReq');
                const lowerReq = document.getElementById('lowerReq');
                const numberReq = document.getElementById('numberReq');

                // Reset classes
                strengthBar.className = 'password-strength-bar';
                lengthReq.className = 'invalid';
                upperReq.className = 'invalid';
                lowerReq.className = 'invalid';
                numberReq.className = 'invalid';

                let strength = 0;

                // Check length
                if (password.length >= 8) {
                    strength += 1;
                    lengthReq.className = 'valid';
                }

                // Check for uppercase letters
                if (/[A-Z]/.test(password)) {
                    strength += 1;
                    upperReq.className = 'valid';
                }

                // Check for lowercase letters
                if (/[a-z]/.test(password)) {
                    strength += 1;
                    lowerReq.className = 'valid';
                }

                // Check for numbers
                if (/[0-9]/.test(password)) {
                    strength += 1;
                    numberReq.className = 'valid';
                }

                // Update strength bar
                if (strength === 0) {
                    strengthBar.style.width = '0%';
                } else if (strength <= 2) {
                    strengthBar.className =
                        'password-strength-bar password-weak';
                } else if (strength === 3) {
                    strengthBar.className =
                        'password-strength-bar password-medium';
                } else {
                    strengthBar.className =
                        'password-strength-bar password-strong';
                }
            }

            function resetPasswordStrength() {
                const strengthBar = document.getElementById('passwordStrength');
                const lengthReq = document.getElementById('lengthReq');
                const upperReq = document.getElementById('upperReq');
                const lowerReq = document.getElementById('lowerReq');
                const numberReq = document.getElementById('numberReq');

                strengthBar.className = 'password-strength-bar';
                strengthBar.style.width = '0%';

                lengthReq.className = 'invalid';
                upperReq.className = 'invalid';
                lowerReq.className = 'invalid';
                numberReq.className = 'invalid';
            }

            // Skills functionality
            document
                .getElementById('addSkillBtn')
                .addEventListener('click', function () {
                    const skillInput = document.getElementById('skillInput');
                    const skill = skillInput.value.trim();

                    if (skill) {
                        addSkillTag(skill);
                        skillInput.value = '';
                    }
                });

            document
                .getElementById('skillInput')
                .addEventListener('keypress', function (e) {
                    if (e.key === 'Enter') {
                        e.preventDefault();
                        document.getElementById('addSkillBtn').click();
                    }
                });

            function addSkillTag(skill) {
                const skillTags = document.getElementById('skillTags');
                const tag = document.createElement('div');
                tag.className = 'skill-tag';
                tag.innerHTML = `
                ${skill}
                <i class="fas fa-times" onclick="this.parentElement.remove()"></i>
            `;
                skillTags.appendChild(tag);
            }
        </script>
    </body>
</html>
